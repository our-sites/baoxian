define("com/chat/1.0.0:chat",["com/global/1.0.0:dollar","lib/art-dialog/6.0.5:art-dialog","com/global/1.0.0:validator"],function(a){var t=a("com/global/1.0.0:dollar"),l=a("lib/art-dialog/6.0.5:art-dialog"),e=a("com/global/1.0.0:validator"),o=1;t(document).on("click",".rank-item-consult,.i-want-to-ask",function(a){a.preventDefault();var i,d=t(this).data("chat-id");if(d)i=l.get(d),i&&i.showModal();else{d="chat-"+o,t(this).data("chat-id",d),o++;var n=t(this).find(".chat-box-wrap").html();i=l({id:d,content:n}),i.showModal();var c=t(i.node);c.find(".chat-online-close").data("chat-id",d);var r=c.find("form");if(r.data("chat",i),r.length){var h=new e({element:r});h.addItem({element:".cellphone",required:!0,display:"手机号码"}),h.addItem({element:".ask-text",required:!0,display:"咨询内容"})}}}).on("click",".chat-online-close",function(a){a.preventDefault();var e=t(this).data("chat-id"),o=l.get(e);o&&o.close()})});